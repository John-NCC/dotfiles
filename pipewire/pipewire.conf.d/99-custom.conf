# Configuración personalizada de PipeWire
# Ubicación: ~/.config/pipewire/pipewire.conf.d/99-custom.conf

context.properties = {
    # -----------------------------------------------------------
    # Configuración del Reloj (Calidad y Latencia)
    # -----------------------------------------------------------

    # Tasa de muestreo predeterminada (estándar para video/juegos)
    default.clock.rate = 48000

    # Tasas permitidas: Permite cambiar automáticamente para evitar
    # resampling innecesario. (44.1k para música, 48k para video)
    default.clock.allowed-rates = [ 48000 44100 ]

    # Quantum: Define la latencia (Buffer size)
    # 1024 muestras @ 48kHz ~= 21ms de latencia (Estable para uso general)
    # 512 muestras  @ 48kHz ~= 10ms de latencia (Mejor para juegos, más uso de CPU)
    # 2048 muestras @ 48kHz ~= 42ms de latencia (Alta estabilidad, menos CPU)
    default.clock.quantum = 1024

    # Límites dinámicos del quantum
    default.clock.min-quantum = 512
    default.clock.max-quantum = 2048
    
    # Forzar un quantum específico (descomentar si necesitas latencia fija)
    # default.clock.force-quantum = 1024
}

# NOTA: Se ha eliminado la sección 'context.modules' para evitar conflictos
# con la configuración global del sistema que ya carga RTKit.
