# NOTA: Archivo de configuración personal para Lazygit.
# INFO: Integración de "Conventional Commits" adaptada para John-NCC.
#       Presiona 'C' en la vista de archivos para usar el asistente de commits.

gui:
  # Usa iconos de Nerd Fonts v3 (compatible con tu configuración de Kitty/Fastfetch)
  nerdFontsVersion: "3"
  
  # Mostrar estructura de árbol en lugar de lista plana
  showFileTree: true
  
  # Estética de bordes (redondeados para coincidir con btop)
  theme:
    activeBorderColor:
      - green
      - bold
    inactiveBorderColor:
      - white
    selectedLineBgColor:
      - reverse
    optionsTextColor:
      - blue

customCommands:
  - key: "C"
    command: 'git commit -m "{{ .Form.Type }}{{if .Form.Scopes}}({{ .Form.Scopes }}){{end}}{{if eq .Form.Breaking `yes`}}!{{end}}: {{ .Form.Description }}"'
    description: "Commit con asistente (Conventional Commits)"
    context: "files"
    loadingText: "Creando commit..."
    prompts:
      - type: "menu"
        title: "Selecciona el tipo de cambio:"
        key: "Type"
        options:
          - name: "Funcionalidad (feat)"
            description: "Una nueva característica para el usuario"
            value: "feat"
          - name: "Corrección (fix)"
            description: "Arreglo de un bug"
            value: "fix"
          - name: "Documentación (docs)"
            description: "Cambios solo en documentación"
            value: "docs"
          - name: "Estilos (style)"
            description: "Espacios, punto y coma, formato (no afecta lógica)"
            value: "style"
          - name: "Refactorización (refactor)"
            description: "Cambio de código que no arregla bugs ni añade funcionalidades"
            value: "refactor"
          - name: "Rendimiento (perf)"
            description: "Mejora el rendimiento del código"
            value: "perf"
          - name: "Tests (test)"
            description: "Añadir o corregir tests"
            value: "test"
          - name: "Build (build)"
            description: "Cambios en sistema de compilación o dependencias (npm, gulp)"
            value: "build"
          - name: "CI (ci)"
            description: "Cambios en integración continua (GitHub Actions, Travis)"
            value: "ci"
          - name: "Mantenimiento (chore)"
            description: "Cambios menores que no modifican src o tests"
            value: "chore"
          - name: "Revertir (revert)"
            description: "Revertir un commit anterior"
            value: "revert"
      
      - type: "input"
        title: "Ámbito/Scope (Opcional):"
        description: "Ej: ui, api, login (Enter para omitir)"
        key: "Scopes"
      
      - type: "input"
        title: "Descripción corta:"
        description: "Usa imperativo (ej: 'añadir botón' en vez de 'añadido...')"
        key: "Description"
      
      - type: "menu"
        title: "¿Es un cambio que rompe compatibilidad (Breaking Change)?"
        key: "Breaking"
        options:
          - name: "No"
            value: "no"
          - name: "Sí (Añade '!' al tipo)"
            value: "yes"
      
      - type: "confirm"
        title: "¿Confirmar mensaje de commit?"
        body: "{{ .Form.Type }}{{if .Form.Scopes}}({{ .Form.Scopes }}){{end}}{{if eq .Form.Breaking `yes`}}!{{end}}: {{ .Form.Description }}"
